/* =============================================================================
   Theme
   ========================================================================== */
:root{
  /* neutrals */
  --bg: #f6f7fb;
  --surface: #ffffff;
  --text: #1b2430;
  --muted: #6b7280;
  --border: #e6e8ee;

  /* brand greens */
  --brand: #198f7a;
  --brand-600: #167c6b;
  --brand-700: #116458;
  --brand-50: #e7f5f2;

  /* top bar greens (darker) */
  --bar: #1b4332;         /* deep green bar */
  --bar-ink: #ecfdf5;     /* light ink on bar */
  --bar-ink-dim: #d1fae5; /* dimmer ink */
  --bar-accent: #2d6a4f;  /* hover/active underline */

  /* shadows & radii */
  --shadow-sm: 0 1px 2px rgba(16,24,40,.06);
  --shadow:    0 2px 10px rgba(16,24,40,.08);
  --shadow-lg: 0 10px 20px rgba(16,24,40,.12);
  --radius: 14px;
  --radius-sm: 10px;
  --radius-lg: 20px;
}

* { box-sizing: border-box; }
html,body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--text);
  background: var(--bg);
}

/* =============================================================================
   Header / Nav  â€” dark green top bar with inline links on the right
   ========================================================================== */
.dashboard-header {
  display: grid;
  grid-template-columns: 1fr auto;   /* title left, nav right */
  grid-template-rows: auto auto;     /* row2 = tools */
  align-items: center;

  background: var(--bar);
  color: var(--bar-ink);
  padding: .9rem 2rem 1rem;
  box-shadow: 0 2px 12px rgba(0,0,0,.12);
}
.dashboard-header h1 {
  grid-column: 1;
  grid-row: 1;
  margin: 0;
  font-size: 1.4rem;
  letter-spacing: .2px;
  color: var(--bar-ink);
}

/* Nav: simple text links inside the bar, aligned right */
.dashboard-nav {
  grid-column: 2;
  grid-row: 1;
  justify-self: end;

  display: flex;
  gap: 1rem;
  align-items: center;
  margin: 0;
}
.dashboard-nav a {
  text-decoration: none;
  color: var(--bar-ink);
  padding: .2rem 0;
  border-bottom: 2px solid transparent;
  transition: color .15s ease, border-color .15s ease, opacity .15s ease;
  font-weight: 600;
  letter-spacing: .2px;
}
.dashboard-nav a:hover {
  color: #ffffff;
  border-color: var(--bar-accent);
}

/* Designer dropdown (click-to-open, stable on all pages) */
.designer-dropdown { position: relative; }

.dropbtn {
  background: transparent;
  color: var(--bar-ink);
  border: none;
  border-bottom: 2px solid transparent;
  padding: .2rem 0;
  cursor: pointer;
  font: inherit;
  font-weight: 600;
  letter-spacing: .2px;
  transition: color .15s ease, border-color .15s ease;
}
.dropbtn:hover { color: #fff; border-color: var(--bar-accent); }

.dropdown-content {
  position: absolute;
  right: 0;
  top: calc(100% + 10px);
  min-width: 220px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-lg);
  padding: .35rem;
  display: none;            /* hidden by default */
  z-index: 1000;            /* ensure above header/tools */
}

/* SHOW the panel when dropdown has .open (set by JS) or when focused */
.designer-dropdown.open .dropdown-content,
.designer-dropdown:focus-within .dropdown-content {
  display: block;
}

/* Dropdown items */
.dropdown-content a {
  display: block;
  padding: .55rem .7rem;
  border-radius: 10px;
  color: var(--text);
  text-decoration: none;
}
.dropdown-content a:hover { background: var(--brand-50); color: var(--brand-700); }

/* Tools row under the bar, right-aligned */
.header-tools{
  grid-column: 2;
  grid-row: 2;
  justify-self: end;

  display:flex; justify-content:flex-end; align-items:center; gap:.6rem;
  padding:.45rem 0 0;
}
.header-tools input[type="text"]{
  min-width:260px; padding:.55rem .7rem;
  border:1px solid var(--border); border-radius:10px;
  background:#fff; outline:none;
}
.header-tools input[type="text"]:focus{
  border-color: var(--brand-600);
  box-shadow: 0 0 0 3px rgba(25,143,122,.15);
}

/* =============================================================================
   Buttons
   ========================================================================== */
.save-btn{
  background: var(--brand);
  border: 1px solid var(--brand-600);
  color:#fff;
  padding:.6rem .9rem;
  border-radius: 10px;
  box-shadow: var(--shadow);
  cursor:pointer;
  transition: transform .04s ease, box-shadow .2s ease, background .2s ease;
}
.save-btn:hover{ background: var(--brand-600); box-shadow: var(--shadow-lg); }
.save-btn:active{ transform: translateY(1px); }

.close {
  float: right;
  cursor: pointer;
  font-size: 1.2rem;
  opacity:.65;
}
.close:hover { opacity: 1; }

/* =============================================================================
   Summary Cards (counters + per-designer lists)
   ========================================================================== */
.summary-cards {
  display:flex; gap:1rem; padding: 1.2rem 2rem 0; flex-wrap:wrap; align-items:stretch;
}
.summary-cards .card{
  background: var(--surface);
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1.25rem;
  min-width: 280px;
  flex: 0 1 340px;
  box-shadow: var(--shadow);
}
.card-top{ display:flex; align-items:baseline; justify-content:space-between; gap:.8rem; margin-bottom:.5rem; }
.summary-cards .card h3{ margin:0; font-size:1rem; color:#2a3140; font-weight:700; letter-spacing:.2px; }
.summary-cards .card h2{ margin:0; font-size:1.5rem; color:#121722; font-weight:800; }
.summary-cards .card[onclick]{ cursor:pointer; }
.summary-cards .card[onclick]:hover{ box-shadow: var(--shadow-lg); }

.mini-list{ list-style:none; padding:0; margin:.25rem 0 0; }
.mini-list li{
  display:flex; justify-content:space-between; align-items:baseline;
  padding:.22rem 0; border-bottom:1px dashed rgba(0,0,0,.06);
}
.mini-list li:last-child{ border-bottom:0; }
.mini-list .muted{ opacity:.55; }

/* =============================================================================
   Main grids + cards
   ========================================================================== */
.dashboard-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 1rem;
  padding: 1rem 2rem 2rem;
}
.dashboard-card{
  background: var(--surface);
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1rem .9rem;
  box-shadow: var(--shadow);
  cursor:pointer;
  transition: transform .06s ease, box-shadow .2s ease;
}
.dashboard-card:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}
.dashboard-card h3{ margin:.1rem 0 .4rem; font-size:1.05rem; }
.dashboard-card p{ margin:.2rem 0; color:#384150; }

/* =============================================================================
   Info Card on project page
   ========================================================================== */
.project-details { padding: .6rem 2rem 2rem; }
.info-card{
  background: var(--surface);
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1.25rem;
  box-shadow: var(--shadow);
}

/* =============================================================================
   Tabs (Completed page)
   ========================================================================== */
.tabs{
  display:flex; gap:.4rem; padding: .6rem 2rem 0;
}
.tab{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: .4rem .9rem;
  cursor:pointer;
  user-select:none;
  box-shadow: var(--shadow-sm);
  color: #2a3140;
  transition: background .15s ease, border-color .15s ease, color .15s ease;
}
.tab.active{
  background: var(--brand-50);
  border-color: var(--brand-600);
  color: var(--brand-700);
  box-shadow: var(--shadow);
}

/* =============================================================================
   Modal
   ========================================================================== */
.modal{
  display:none; position:fixed; z-index:50; left:0; top:0; width:100%; height:100%;
  background: rgba(16,24,40,.35);
}
.modal-content{
  background: var(--surface);
  margin:10vh auto; padding: 1rem 1.25rem 1.25rem; border:1px solid var(--border);
  width: min(560px, 92vw);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
}
.modal-content h2{ margin-top:.2rem; }

/* =============================================================================
   Forms
   ========================================================================== */
label { display:block; margin:.5rem 0; color:#2a3140; font-weight:600; }
input[type="text"], input[type="date"], select, textarea{
  width:100%;
  padding:.6rem .7rem;
  border:1px solid var(--border);
  border-radius: 10px;
  background:#fff;
  outline:none;
  font: inherit;
}
input[type="text"]:focus, input[type="date"]:focus, select:focus, textarea:focus{
  border-color: var(--brand-600);
  box-shadow: 0 0 0 3px rgba(25,143,122,.15);
}

.tasks-section h2{ margin:1.1rem 0 .6rem; }

/* Section titles */
.section-title { padding: 1rem 2rem 0; margin: 0; }

/* =============================================================================
   Utilities
   ========================================================================== */
.nav-link{ text-decoration:none; color: var(--bar-ink); }
.nav-link:hover{ text-decoration:underline; }

@media (max-width:640px){
  .dashboard-header{ padding: .8rem 1rem 1rem; }
  .header-tools{ padding: .45rem 0 0; }
  .summary-cards{ padding: 1rem 1rem 0; }
  .dashboard-grid{ padding: 1rem 1rem 2rem; }
  .project-details{ padding: .6rem 1rem 2rem; }
}